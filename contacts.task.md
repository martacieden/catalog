# –ü–õ–ê–ù: –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó (Subcollections)

## üìã –û–ì–õ–Ø–î
–î–æ–¥–∞–≤–∞–Ω–Ω—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∫–æ–ª–µ–∫—Ü—ñ–π - –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —ñ—Å–Ω—É—é—á–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π. –¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –∫—Ä–∞—â–µ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–µ–Ω—ñ –ø–∞–ø–∫–∏.

## üéØ –ú–ï–¢–ê
–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π, —è–∫–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å:
1. –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —ñ—Å–Ω—É—é—á–∏—Ö –∫–æ–ª–µ–∫—Ü—ñ–π
2. –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é –∫–æ–ª–µ–∫—Ü—ñ–π –∑ breadcrumb –Ω–∞–≤—ñ–≥–∞—Ü—ñ—î—é
3. –ü–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ items –º—ñ–∂ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —Ç–∞ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏
4. –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó –æ–∫—Ä–µ–º–æ –≤—ñ–¥ items
5. –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ 3-—Ö —Ä—ñ–≤–Ω—ñ–≤ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ

## üìê UI/UX –ö–û–ù–¶–ï–ü–¶–Ü–Ø

### –í–∞—Ä—ñ–∞–Ω—Ç A: –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó —è–∫ –æ–∫—Ä–µ–º–∞ —Å–µ–∫—Ü—ñ—è (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–ò–ô)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Collection Name ‚Ä¢ 9 items               ‚îÇ
‚îÇ Settings | Share | Rule | Add Items     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [Details Block - –∑–≥–æ—Ä–Ω—É—Ç–∏–π/—Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏–π] ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìÅ Subcollections (3)                   ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ üìÇ Legal ‚îÇ ‚îÇ üìÇ Finance‚îÇ ‚îÇ üìÇ Assets‚îÇ ‚îÇ
‚îÇ ‚îÇ 15 items ‚îÇ ‚îÇ 23 items  ‚îÇ ‚îÇ 8 items  ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ [+ Create Subcollection]                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìÑ Items in this collection (9)         ‚îÇ
‚îÇ [Search] [Filters] [View Toggle]        ‚îÇ
‚îÇ [Table with items...]                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ß—ñ—Ç–∫–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –º—ñ–∂ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ —Ç–∞ items
- –õ–µ–≥–∫–æ –∑–Ω–∞–π—Ç–∏ —ñ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
- –ù–µ –∑–∞–≤–∞–∂–∞—î —Ä–æ–±–æ—Ç—ñ –∑ items

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –ó–∞–π–º–∞—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –ø—Ä–æ—Å—Ç—ñ—Ä

### –í–∞—Ä—ñ–∞–Ω—Ç B: –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó —è–∫ —á–∞—Å—Ç–∏–Ω–∞ —Ç–∞–±–ª–∏—Ü—ñ
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [Search] [Filters] [View Toggle]        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ üìÇ Legal Documents (subcollection)      ‚îÇ
‚îÇ üìÇ Financial Records (subcollection)    ‚îÇ
‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ
‚îÇ üìÑ Beachfront Villa Alpha               ‚îÇ
‚îÇ üìÑ Private Jet Gulfstream               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ö–æ–º–ø–∞–∫—Ç–Ω–∏–π –≤–∏–≥–ª—è–¥
- –í—Å–µ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- –ú–æ–∂–µ –±—É—Ç–∏ –ø–ª—É—Ç–∞–Ω–∏–Ω–∞ –º—ñ–∂ –ø–∞–ø–∫–∞–º–∏ —Ç–∞ items
- –°–∫–ª–∞–¥–Ω—ñ—à–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

## üèóÔ∏è –°–¢–†–£–ö–¢–£–†–ê –î–ê–ù–ò–•

### 1. –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∏–ø—É Collection
```typescript
// types/collection.ts

export interface Collection {
  // ... —ñ—Å–Ω—É—é—á—ñ –ø–æ–ª—è
  
  // –ù–æ–≤—ñ –ø–æ–ª—è –¥–ª—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
  parentId?: string | null        // ID –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó (null –¥–ª—è root)
  subcollections?: Collection[]   // –ú–∞—Å–∏–≤ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π (–¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è)
  path?: string[]                 // –®–ª—è—Ö –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó ['root', 'parent', 'current']
  depth?: number                  // –†—ñ–≤–µ–Ω—å –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (0 = root, 1 = 1st level, etc)
  isSubcollection?: boolean       // –ü—Ä–∞–ø–æ—Ä–µ—Ü—å –¥–ª—è —à–≤–∏–¥–∫–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
}
```

### 2. –ù–æ–≤—ñ —É—Ç–∏–ª—ñ—Ç–∏
```typescript
// lib/collection-utils.tsx

export const getCollectionPath = (collection: Collection): Collection[] => {
  // –ü–æ–≤–µ—Ä—Ç–∞—î –º–∞—Å–∏–≤ –∫–æ–ª–µ–∫—Ü—ñ–π –≤—ñ–¥ root –¥–æ –ø–æ—Ç–æ—á–Ω–æ—ó
}

export const getSubcollections = (collectionId: string, allCollections: Collection[]): Collection[] => {
  // –ü–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó –¥–ª—è –¥–∞–Ω–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó
}

export const canCreateSubcollection = (collection: Collection): boolean => {
  // –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—é (depth < 3)
}

export const moveItemToSubcollection = (
  itemId: string, 
  fromCollectionId: string, 
  toCollectionId: string
): void => {
  // –ü–µ—Ä–µ–º—ñ—â—É—î item –º—ñ–∂ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏
}
```

## üé® –ö–û–ú–ü–û–ù–ï–ù–¢–ò

### 1. SubcollectionsSection (–ù–û–í–ò–ô)
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** `components/collections/subcollections-section.tsx`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π –≤ Collection Detail Panel

**–§—É–Ω–∫—Ü—ñ—ó:**
- –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π (grid layout)
- –ö–Ω–æ–ø–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –¥–æ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
- –ü–æ–∫–∞–∑ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ items –≤ –∫–æ–∂–Ω—ñ–π –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
- Drag & drop –¥–ª—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items

**Props:**
```typescript
interface SubcollectionsSectionProps {
  parentCollection: Collection
  subcollections: Collection[]
  onCreateSubcollection: () => void
  onOpenSubcollection: (subcollectionId: string) => void
  onMoveItem?: (itemId: string, toSubcollectionId: string) => void
}
```

### 2. SubcollectionCard (–ù–û–í–ò–ô)
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** `components/collections/subcollection-card.tsx`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ö–æ–º–ø–∞–∫—Ç–Ω–∞ –∫–∞—Ä—Ç–∫–∞ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó

**–í–∏–≥–ª—è–¥:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìÇ               ‚îÇ
‚îÇ Legal Documents  ‚îÇ
‚îÇ 15 items         ‚îÇ
‚îÇ [Open ‚Üí]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. CollectionBreadcrumb (–ù–û–í–ò–ô)
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** `components/collections/collection-breadcrumb.tsx`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–æ–ª–µ–∫—Ü—ñ–π

**–í–∏–≥–ª—è–¥:**
```
All Collections > Business Assets > Legal > Contracts
                                              ^^^^^^^^^ (–ø–æ—Ç–æ—á–Ω–∞)
```

### 4. CreateSubcollectionDialog (–ù–û–í–ò–ô)
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** `components/collections/create-subcollection-dialog.tsx`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –î—ñ–∞–ª–æ–≥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó

**–ü–æ–ª—è:**
- –ù–∞–∑–≤–∞ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
- –û–ø–∏—Å (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- –Ü–∫–æ–Ω–∫–∞
- –¢–∏–ø (manual/smart)

### 5. –û–ù–û–í–õ–ï–ù–ù–Ø: CollectionDetailPanel
**–§–∞–π–ª:** `components/collection-detail-panel.tsx`

**–ó–º—ñ–Ω–∏:**
1. –î–æ–¥–∞—Ç–∏ breadcrumb –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é –≤–≥–æ—Ä—ñ
2. –î–æ–¥–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π –ø—ñ—Å–ª—è Details Block
3. –†–æ–∑–¥—ñ–ª–∏—Ç–∏ items –Ω–∞ "items in this collection" vs "items in subcollections"
4. –î–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "Create Subcollection" –±—ñ–ª—è "Add Items"

### 6. –û–ù–û–í–õ–ï–ù–ù–Ø: CollectionCard
**–§–∞–π–ª:** `components/collections/collection-card.tsx`

**–ó–º—ñ–Ω–∏:**
1. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "üìÅ 3 subcollections")
2. –î–æ–¥–∞—Ç–∏ –æ–ø—Ü—ñ—é –º–µ–Ω—é "Create Subcollection"
3. –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ path –ø—Ä–∏ hover (—è–∫—â–æ —Ü–µ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è)

## üîÑ –ü–û–¢–Ü–ö –†–û–ë–û–¢–ò

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –∫–æ–ª–µ–∫—Ü—ñ—é
2. –í —Å–µ–∫—Ü—ñ—ó "Subcollections" –Ω–∞—Ç–∏—Å–∫–∞—î "+ Create Subcollection"
3. –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –¥—ñ–∞–ª–æ–≥ –∑ —Ñ–æ—Ä–º–æ—é
4. –ó–∞–ø–æ–≤–Ω—é—î –Ω–∞–∑–≤—É —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
5. –ù–∞—Ç–∏—Å–∫–∞—î "Create"
6. –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –ù–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è—Ö
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
2. –ö–ª—ñ–∫–∞—î –Ω–∞ –∫–∞—Ä—Ç–∫—É –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
3. –í—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞ –ø–∞–Ω–µ–ª—å –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
4. Breadcrumb –ø–æ–∫–∞–∑—É—î —à–ª—è—Ö: "Parent > Subcollection"
5. –ú–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞–∑–∞–¥ —á–µ—Ä–µ–∑ breadcrumb

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∏–±–∏—Ä–∞—î items –≤ —Ç–∞–±–ª–∏—Ü—ñ (checkbox)
2. –ù–∞—Ç–∏—Å–∫–∞—î "Move to..." –≤ bulk actions
3. –í–∏–±–∏—Ä–∞—î —Ü—ñ–ª—å–æ–≤—É –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—é –∑ dropdown
4. Items –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è
5. Toast –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è

## üìù –¢–ï–•–ù–Ü–ß–ù–Ü –î–ï–¢–ê–õ–Ü

### Context –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
**–§–∞–π–ª:** `contexts/collections-context.tsx`

**–ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:**
```typescript
createSubcollection(parentId: string, data: Partial<Collection>): Collection
getSubcollections(parentId: string): Collection[]
getCollectionPath(collectionId: string): Collection[]
moveItemsBetweenCollections(itemIds: string[], fromId: string, toId: string): void
```

### Mock Data –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
**–§–∞–π–ª:** `lib/mock-data.ts`

–î–æ–¥–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–ª–µ–∫—Ü—ñ–π –∑ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏:
```typescript
{
  id: "col-business",
  name: "Business Assets",
  parentId: null,
  subcollections: [
    {
      id: "col-legal",
      name: "Legal Documents",
      parentId: "col-business",
      ...
    },
    {
      id: "col-finance",
      name: "Financial Records", 
      parentId: "col-business",
      ...
    }
  ]
}
```

## ‚úÖ –ß–ï–ö–õ–Ü–°–¢ –Ü–ú–ü–õ–ï–ú–ï–ù–¢–ê–¶–Ü–á

### –§–∞–∑–∞ 1: –¢–∏–ø–∏ —Ç–∞ —É—Ç–∏–ª—ñ—Ç–∏ (1-2 –≥–æ–¥–∏–Ω–∏)
- [ ] –û–Ω–æ–≤–∏—Ç–∏ —Ç–∏–ø Collection –∑ –Ω–æ–≤–∏–º–∏ –ø–æ–ª—è–º–∏
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —É—Ç–∏–ª—ñ—Ç–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –≤ collection-utils.tsx
- [ ] –û–Ω–æ–≤–∏—Ç–∏ mock-data –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ç–∏–ø–∏ –≤ —É—Å—å–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ

### –§–∞–∑–∞ 2: –ë–∞–∑–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (2-3 –≥–æ–¥–∏–Ω–∏)
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ SubcollectionCard
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ CollectionBreadcrumb
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ SubcollectionsSection
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ CreateSubcollectionDialog
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–∫—Ä–µ–º–æ

### –§–∞–∑–∞ 3: –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ Detail Panel (2-3 –≥–æ–¥–∏–Ω–∏)
- [ ] –î–æ–¥–∞—Ç–∏ breadcrumb –≤ CollectionDetailPanel
- [ ] –î–æ–¥–∞—Ç–∏ —Å–µ–∫—Ü—ñ—é –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- [ ] –î–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "Create Subcollection"
- [ ] –û–Ω–æ–≤–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è items
- [ ] –î–æ–¥–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é "Show items from subcollections"

### –§–∞–∑–∞ 4: –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è (2-3 –≥–æ–¥–∏–Ω–∏)
- [ ] –î–æ–¥–∞—Ç–∏ bulk action "Move to subcollection"
- [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ dropdown –≤–∏–±–æ—Ä—É —Ü—ñ–ª—å–æ–≤–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó
- [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –≤ context
- [ ] –î–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç–∞ toast –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- [ ] –î–æ–¥–∞—Ç–∏ drag & drop (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### –§–∞–∑–∞ 5: –û–Ω–æ–≤–ª–µ–Ω–Ω—è Dashboard (1-2 –≥–æ–¥–∏–Ω–∏)
- [ ] –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π –Ω–∞ CollectionCard
- [ ] –î–æ–¥–∞—Ç–∏ –æ–ø—Ü—ñ—é "Create Subcollection" –≤ –º–µ–Ω—é –∫–∞—Ä—Ç–∫–∏
- [ ] –î–æ–¥–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä "Show only root collections"
- [ ] –û–Ω–æ–≤–∏—Ç–∏ counters (–≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ items –≤ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è—Ö)

### –§–∞–∑–∞ 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–ª—ñ—à (1-2 –≥–æ–¥–∏–Ω–∏)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ edge cases (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≥–ª–∏–±–∏–Ω–∞, –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
- [ ] –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ perfomance
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ responsive –¥–∏–∑–∞–π–Ω

## üé® –î–ò–ó–ê–ô–ù –†–Ü–®–ï–ù–ù–Ø

### –ö–æ–ª—å–æ—Ä–∏ —Ç–∞ —ñ–∫–æ–Ω–∫–∏
- üìÇ –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è: `text-blue-600` (—Å–∏–Ω—ñ–π –≤—ñ–¥—Ç—ñ–Ω–æ–∫)
- üìÅ Root –∫–æ–ª–µ–∫—Ü—ñ—è: `text-gray-700`
- Hover —Å—Ç–∞–Ω: `hover:bg-blue-50`

### –†–æ–∑–º—ñ—Ä–∏ –∫–∞—Ä—Ç–æ–∫ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- Grid: 3 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ desktop, 2 –Ω–∞ tablet, 1 –Ω–∞ mobile
- –í–∏—Å–æ—Ç–∞ –∫–∞—Ä—Ç–∫–∏: ~120px
- Padding: p-4
- Border radius: rounded-lg

### –ê–Ω—ñ–º–∞—Ü—ñ—ó
- –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó: fade in + slide down
- –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items: smooth transition
- Breadcrumb: smooth scroll

## üöÄ –ü–û–ö–†–ê–©–ï–ù–ù–Ø (–ú–∞–π–±—É—Ç–Ω—î)

### V1 (MVP)
- –ë–∞–∑–æ–≤–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- Breadcrumb –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
- –ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items —á–µ—Ä–µ–∑ dropdown

### V2 (Enhanced)
- Drag & drop –¥–ª—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è items
- Bulk operations –Ω–∞ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è—Ö
- –ü–æ—à—É–∫ –ø–æ –≤—Å—ñ—Ö –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è—Ö
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å—ñ–π —ñ—î—Ä–∞—Ä—Ö—ñ—ó

### V3 (Advanced)
- –®–∞–±–ª–æ–Ω–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π
- AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó
- –ï–∫—Å–ø–æ—Ä—Ç/—ñ–º–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- Permissions –ø–æ —Ä—ñ–≤–Ω—è—Ö —ñ—î—Ä–∞—Ä—Ö—ñ—ó

## üìå –í–ê–ñ–õ–ò–í–Ü –ü–†–ò–ú–Ü–¢–ö–ò

1. **–û–±–º–µ–∂–µ–Ω–Ω—è –≥–ª–∏–±–∏–Ω–∏:** –ú–∞–∫—Å–∏–º—É–º 3 —Ä—ñ–≤–Ω—ñ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (root ‚Üí sub1 ‚Üí sub2)
2. **–í–∏–¥–∞–ª–µ–Ω–Ω—è:** –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó - –ø–∏—Ç–∞—Ç–∏ —â–æ —Ä–æ–±–∏—Ç–∏ –∑ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ (–≤–∏–¥–∞–ª–∏—Ç–∏ / –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ –Ω–∞ —Ä—ñ–≤–µ–Ω—å –≤–∏—â–µ)
3. **–ü–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è:** Items –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–º—ñ—â—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –º—ñ–∂ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –æ–¥–Ω–æ–≥–æ —Ä—ñ–≤–Ω—è –∞–±–æ –≤ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó
4. **Smart Collections:** –ü—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó –º–æ–∂—É—Ç—å –±—É—Ç–∏ —è–∫ manual —Ç–∞–∫ —ñ smart –∑ –≤–ª–∞—Å–Ω–∏–º–∏ rules
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** itemCount –≤–∫–ª—é—á–∞—î —Ç—ñ–ª—å–∫–∏ items –≤ —Ü—ñ–π –∫–æ–ª–µ–∫—Ü—ñ—ó, –Ω–µ –≤—Ä–∞—Ö–æ–≤—É—î –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó

## ‚úÖ –£–¢–û–ß–ù–ï–ù–ù–Ø –í–Ü–î –ö–û–†–ò–°–¢–£–í–ê–ß–ê

1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≥–ª–∏–±–∏–Ω–∞:** 1 —Ä—ñ–≤–µ–Ω—å –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ (root ‚Üí sub1 ONLY)
2. **–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è items:** –ú–æ–∂–Ω–∞ –≤–∫–ª—é—á–∞—Ç–∏ –±—É–¥—å-—è–∫—ñ items (–∑ –ø–æ—Ç–æ—á–Ω–æ—ó + –∑ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π)
3. **–ü–æ–∑–∏—Ü—ñ—è –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ–π:** –ú—ñ–Ω—ñ –ø–∞–ø–∫–∏ –º—ñ–∂ Details Block —Ç–∞ —Ç–∞–±–ª–∏—Ü–µ—é ‚úì
4. **Auto-sync:** –¢–∞–∫, smart collection –º–æ–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—Ç–∏ items –ø–æ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è—Ö
5. **–í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó:** –ü–∏—Ç–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —â–æ —Ä–æ–±–∏—Ç–∏ –∑ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏

## üìå –û–ù–û–í–õ–ï–ù–Ü –û–ë–ú–ï–ñ–ï–ù–ù–Ø

### –ì–ª–∏–±–∏–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω–æ—Å—Ç—ñ
```typescript
export const MAX_SUBCOLLECTION_DEPTH = 1; // –¢—ñ–ª—å–∫–∏ root ‚Üí subcollection

export const canCreateSubcollection = (collection: Collection): boolean => {
  // –ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—ó —Ç—ñ–ª—å–∫–∏ –≤ root –∫–æ–ª–µ–∫—Ü—ñ—è—Ö
  return !collection.parentId && (!collection.depth || collection.depth === 0)
}
```

### –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–ª–µ–∫—Ü—ñ—ó –∑ –ø—ñ–¥–∫–æ–ª–µ–∫—Ü—ñ—è–º–∏
–ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –¥—ñ–∞–ª–æ–≥:
```
‚ö†Ô∏è Delete Collection with Subcollections?

This collection contains 3 subcollections with 45 total items.

What would you like to do?
‚óã Delete everything (collection + subcollections + items)
‚óã Move subcollections to root level
‚óã Cancel
```

---

**–°–¢–ê–¢–£–°:** –ì–æ—Ç–æ–≤–∏–π –¥–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑ —É—Ç–æ—á–Ω–µ–Ω–∏–º–∏ –≤–∏–º–æ–≥–∞–º–∏.
